---
---

<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Collaborative & Reproducible Workflows</title>
    <meta name="description" content="Learn tools for collaborative and reproducible research.">
    
    <link rel="canonical" href="/basic-git-lesson/">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sesync-ci/lesson-stylesheets@1.0.1/css/lesson.css">

    <style type="text/css">

     table {
	 margin-bottom: 15px;
     }

     table th, table td {
	 padding: 5px 10px;
     }

     table > thead > .header {
	 background: transparent;
     }

     table > thead > tr > td, table > thead > tr > th,
     table > tbody > tr > td, table > tbody > tr > th,
     table > tfoot > tr > td, table > tfoot > tr > th {
	 border: 1px solid #DDD;
     }

     table > thead > tr > th,
     table > thead > tr > td {
	 border-bottom-width: 2px;
     }

     table tbody > tr:nth-of-type(2n+1) {
	 background-color: #F9F9F9;
     }

    </style>    
</head>

  
  <body>

    <div class="page-content">
      <div class="wrapper">
        
<p><a name="/slides/title"></a></p>

<h1 id="collaborative--reproducible-workflows">Collaborative &amp; Reproducible Workflows</h1>

<p>Lesson 1 with <em>Ian Carroll</em></p>

<aside class="notes">

  <p>As your research project moves from conception, through data collection and analysis, to reporting and other forms of dissemination, the many components can fracture, lose their development history, and – worst of all – become conflicted.</p>

</aside>

<p>This lesson gives a high level overview of workflows to organize your project and introduces an accompanying software solution, <code class="highlighter-rouge">git</code>.</p>

<p class="ToS"><a href="#/slides/title">Top of Section</a></p>

<hr />

<p><a name="/slides/workflows"></a></p>

<h2 id="workflow-diagram">Workflow diagram</h2>

<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-git-lesson@v0.2/docs/assets/images/rp-overview.jpg" alt="" width="60%" /><br />
<em>Credit: <a href="http://cacm.acm.org/blogs/blog-cacm/169199-data-science-workflow-overview-and-challenges">Philip Guo</a></em></p>

<!--split-->

<h2 id="a-real-research-workflow">A real research workflow</h2>

<p>A professor at UC Berkeley, <a href="http://www.carlboettiger.info">Carl Boettiger</a>, is a strong advocate for open science who publishes clear &amp; reproducible workflows. The work leading up to <a href="http://github.com/cboettig/pdg_control">“Pretty Darn Good Control”</a> is on <a href="http://github.com">GitHub</a>, a website integrated with the <code class="highlighter-rouge">git</code> version control system.</p>

<p>Integrating <code class="highlighter-rouge">git</code> with cloud services like GitHub creates a complete system for project management, collaboration and sharing.</p>

<p class="ToS"><a href="#/slides/workflows">Top of Section</a></p>

<hr />

<p><a name="/slides/intro"></a></p>

<p><!--## Distributed Workflows--></p>

<p class="on-white">A single collaboration model – the centralized workflow – dominates collaborative research.
There is a central hub, and everyone synchronizes their work to it.
A number of researchers are nodes – consumers of that hub – and synchronize to that one place.</p>

<p class="ToS"><a href="#/slides/intro">Top of Section</a></p>

<hr />

<p><a name="/slides/goals"></a></p>

<h2 id="objectives-for-this-lesson">Objectives for this lesson</h2>

<ul>
  <li>Learn about a framework for distributed workflows</li>
  <li>Identify attributes of reproducible research</li>
  <li>Use RStudio to begin managing a workflow</li>
</ul>

<!--split-->

<h2 id="specific-achievements">Specific achievements</h2>

<ul>
  <li>Access a public repository through RStudio</li>
  <li>Create a repository on GitHub</li>
  <li>Publish changes to a project file</li>
  <li>Execute a few basic R commands</li>
</ul>

<p class="ToS"><a href="#/slides/goals">Top of Section</a></p>

<hr />

<p><a name="/slides/reproducible"></a></p>

<h2 id="a-plug-for-reproducible-research">A Plug for Reproducible Research</h2>

<p>Reproducibility is a core tenent of the scientific method.
Experiments are reported in sufficient detail for a skilled practitioner to duplicate the result.</p>

<p class="fragment">Does the same principle apply to data analysis? <strong>You bet!</strong></p>

<!--split-->

<h3 id="hallmarks-of-reproducible-research">Hallmarks of reproducible research:</h3>

<table>
  <tbody>
    <tr>
      <td><strong>Reviewable</strong></td>
      <td>All details of the method used are easily accessible for peer review and community review.</td>
    </tr>
    <tr>
      <td><strong>Auditable</strong></td>
      <td>Records exist to document how the methods and conclusions evolved, but may be private.</td>
    </tr>
    <tr>
      <td><strong>Replicable</strong></td>
      <td>Given sufficient resources, a skilled practitioner could duplicate the research without any guesswork.</td>
    </tr>
    <tr>
      <td><strong>Open</strong></td>
      <td>The orginator grants permissions for reuse and extension of the research products.</td>
    </tr>
  </tbody>
</table>

<!--split-->

<h3 id="use-your-workflow-to-achieve-these-same-goals">Use your workflow to achieve these same goals:</h3>

<table>
  <tbody>
    <tr>
      <td><strong>Reviewable</strong></td>
      <td>Write-ups and thoroughly-commented scripts shared among collaborators</td>
    </tr>
    <tr>
      <td><strong>Auditable</strong></td>
      <td>Versioned project history, used to revert mistakes when necessary</td>
    </tr>
    <tr>
      <td><strong>Replicable</strong></td>
      <td>“One-click” file &amp; data sharing, as well as streamlined recreation of analyses</td>
    </tr>
    <tr>
      <td><strong>Open</strong></td>
      <td>GitHub (or similar) based centralized workflow</td>
    </tr>
  </tbody>
</table>

<!--split-->

<h2 id="also-theres-this-">Also, there’s this …</h2>

<iframe src="https://www.whitehouse.gov/blog/2016/03/09/leveraging-american-ingenuity-through-reusable-and-open-source-software" width="100%" height="280"></iframe>

<p class="ToS"><a href="#/slides/reproducible">Top of Section</a></p>

<hr />

<p><a name="/slides/github"></a></p>

<h2 id="whats-a-github-whats-a-repo">What’s a GitHub? What’s a “repo”?</h2>

<p>Open up the <a href="https://github.com/SESYNC-ci/handouts" target="_blank">repository</a> that provides the “handouts” for this workshop.</p>

<ul>
  <li>README.md is a Markdown file giving basic information about the repository.</li>
  <li>There is a list of files, including a folder for data.</li>
  <li>You are looking at a branch called <code class="highlighter-rouge">master</code>.</li>
  <li>The commit history is available from the top bar.</li>
  <li>The “Clone or download” button provides a URL.</li>
</ul>

<!--split-->

<h2 id="centralized-workflow">Centralized Workflow</h2>

<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-git-lesson@v0.2/docs/assets/images/atlassian_workflow.svg" alt="" width="50%" /><br />
<em><a href="https://www.atlassian.com/git/tutorials/comparing-workflows">Image</a> by Atlassian / <a href="http://creativecommons.org/licenses/by/2.5/au/">CC BY</a></em></p>

<p>The <strong>origin</strong> is the central repository, in this case it lives on GitHub. Every member of the team gets a <strong>local</strong> copy of the entire project, called a <strong>clone</strong>.</p>

<!--split-->

<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-git-lesson@v0.2/docs/assets/images/atlassian_pull.svg" alt="" width="50%" /><br />
<em><a href="https://www.atlassian.com/git/tutorials/comparing-workflows">Image</a> by Atlassian / <a href="http://creativecommons.org/licenses/by/2.5/au/">CC BY</a></em></p>

<p>Cloning is the initial <strong>pull</strong> of the entire project and all its history. In general, a worker <strong>pulls</strong> the work of other teammates from the <strong>origin</strong> when ready to incorporate their work, and she <strong>pushes</strong> updates to the <strong>origin</strong> when ready to contribute work of her own work.</p>

<!--split-->

<p>A commit is a unit of work: any collection of changes to one or more files in the repository.
A versioned project is like a tree of commits, although the current tree has just one <strong>branch</strong>.
After a worker creates a <strong>clone</strong>, the local copy is in the same place as the <strong>origin</strong>.</p>

<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-git-lesson@v0.2/docs/assets/images/atlassian_clone.svg" alt="" width="40%" /><br />
<em><a href="https://www.atlassian.com/git/tutorials/syncing/git-pull">Image</a> by Atlassian / <a href="http://creativecommons.org/licenses/by/2.5/au/">CC BY</a></em></p>

<!--split-->

<p>A <strong>pull</strong>, or initially a <strong>clone</strong>, applies commits copied from the <strong>origin</strong> to your local repo, syncing them up.</p>

<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-git-lesson@v0.2/docs/assets/images/atlassian_after_pull.svg" alt="" width="40%" /><br />
<em><a href="https://www.atlassian.com/git/tutorials/syncing/git-pull">Image</a> by Atlassian / <a href="http://creativecommons.org/licenses/by/2.5/au/">CC BY</a></em></p>

<!--split-->

<p>A <strong>push</strong> copies local commits to the <strong>origin</strong> and applies them remotely.</p>

<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-git-lesson@v0.2/docs/assets/images/atlassian_after_push.svg" alt="" width="40%" /><br />
<em><a href="https://www.atlassian.com/git/tutorials/syncing/git-pull">Image</a> by Atlassian / <a href="http://creativecommons.org/licenses/by/2.5/au/">CC BY</a></em></p>

<p class="ToS"><a href="#/slides/github">Top of Section</a></p>

<hr />

<p><a name="/slides/readme"></a></p>

<h2 id="rstudio-projects">RStudio Projects</h2>

<p>This software is an example of an <em>integrated development environment</em> and focuses on</p>

<ol>
  <li>Creating projects that use the R programming language, and</li>
  <li>Running R language commands or  programs in the R interpreter.</li>
</ol>

<p>R is both a <strong>language</strong> and an <strong>interpreter</strong>.</p>

<!--split-->

<h2 id="integration-with-git">Integration with <code class="highlighter-rouge">git</code></h2>

<p>RStudio provides convenient access to the core tools provided by <code class="highlighter-rouge">git</code>, so any project can also be a repository.</p>

<p>Under the File menu, create a new project from a remote version control repository.</p>

<p><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-git-lesson@v0.2/docs/assets/images/new_project.png" alt="" /></p>

<!--split-->

<h2 id="files-under-version-control">Files under version control</h2>

<p>Software is written in plain text, and version control is design for software development. A scripted workflow relies heavilly on plain text files, but may include different file types for figures or data.</p>

<p>For this reason, a plain text editor is a core element of the IDE. The editor in RStudio is good for any kind of text documents: you could edit R scripts, C++ code, LaTeX documents, or even CSV files.</p>

<!--split-->

<h2 id="readmemd">README.md</h2>

<p>To begin making this project your own, modify the README. Tell us something about why you’re here!</p>

<div class="text-document highlighter-rouge" title="README.md"><pre class="highlight"><code># SESYNC Computational Synthesis Institute

Goals

- ...
</code></pre>
</div>

<p>The “.md” extension stands for “markdown”, which is a syntax for simple plain text “formatting”.</p>

<p class="ToS"><a href="#/slides/readme">Top of Section</a></p>

<hr />

<p><a name="/slides/save"></a></p>

<h2 id="save-your-work">Save your work</h2>

<p>Do save the <code class="highlighter-rouge">README.md</code> file.</p>

<p>But I mean <em>really</em> save your work, by commiting it to your project with a version control system (that’s <code class="highlighter-rouge">git</code>!).</p>

<ol>
  <li>Go to the <code class="highlighter-rouge">git</code> tab in RStudio</li>
  <li>Select <code class="highlighter-rouge">commit</code> to open the “Review Changes” window</li>
  <li>Select the file(s) you want to commit.</li>
  <li>Enter a descriptive message about the commit.</li>
  <li>Commit!</li>
</ol>

<!--split-->

<h2 id="create-a-github-repository">Create a GitHub repository</h2>

<p>Create a new repository on your GitHub page, name it whatever you like, but leave it empty (no README!).</p>

<p class="captioned"><img src="https://cdn.jsdelivr.net/gh/sesync-ci/basic-git-lesson@v0.2/docs/assets/images/new_repo.png" alt="" width="60%" /></p>

<p>Once it’s created, find the “Clone or download” URL beginning with “https://”.</p>

<!--split-->

<h2 id="configure-git">Configure git</h2>

<p>The <code class="highlighter-rouge">system</code> function in <code class="highlighter-rouge">lesson-1.R</code> sends the string directly to the operating system, which uses the <code class="highlighter-rouge">git</code> program itself to do something we can’t do through RStudio.</p>

<div class="text-document highlighter-rouge" title="lesson-1.R"><pre class="highlight"><code># Configure git

system("git config --global user.name "Ian Carroll")
system("git config --global user.name icarroll@sesync.org)
</code></pre>
</div>

<dl>
  <dt>Question</dt>
  <dd>Why did I put spaces around my name but not my e-mail</dd>
  <dt>Answer</dt>
  <dd>A space usually means the end of a string, the quotes are an alternative way to demarcate the bounds of a string.</dd>
</dl>

<!--split-->

<h2 id="change-origin-repo">Change origin repo</h2>

<p>Open “Tools” &gt; “Project Options” &gt; “Git/SVN”, notice that the orign is the SESYNC-CI organization’s URL.</p>

<div class="text-document highlighter-rouge" title="lesson-1.R"><pre class="highlight"><code># Set a new origin URL

system("git remote set-url origin https://github.com/%username%/%repo%")
</code></pre>
</div>

<!--split-->

<h2 id="push">Push</h2>

<p>Open the “Review Changes” window again and notice that your branch is ahead of origin/master! Push those commit(s) to your GitHub repo.</p>

<p class="ToS"><a href="#/slides/save">Top of Section</a></p>

<hr />

<p><a name="/slides/conclude"></a></p>

<h2 id="where-to-from-here">Where to from here?</h2>

<p>The repository you created is an example of the heart of a distributed workflow. Putting the <strong>origin</strong> of your project on GitHub (or similar) will make it accessible not only by your collaborators, but also availabe for review and extension by your research community.</p>

<p>Using <code class="highlighter-rouge">git</code> to manage contributions to the project as a branching and merging “tree” of commits accomplishes two objectives. First, work can safely proceed in parallel, even on the same documents. Second, a recoverable (and auditable) trail of changes is immediately available in the project history.</p>

<p>Sharing project files, including managing multiple “copies” during development or at public release, in a hub-and-spokes workflow is a streamlined <strong>cloning</strong> process. The <strong>origin</strong> always has the “most recent” version of any documents: conflicts must be resolved in the local clone before new commits can be shared.</p>

<p class="ToS"><a href="#/slides/conclude">Top of Section</a></p>

<hr />


      </div>
    </div>

  </body>

</html>
